@import 'tailwindcss';
@import './modal.css';

@theme {
  /* Primary color scale */
  --color-primary-50: #ededed;
  --color-primary-100: #d6d6d6;
  --color-primary-200: #bfbfbf;
  --color-primary-300: #a8a8a8;
  --color-primary-400: #919191;
  --color-primary-500: #7a7a7a;
  --color-primary-600: #636363;
  --color-primary-700: #4d4d4d;
  --color-primary-800: #363636;
  --color-primary-900: #1f1f1f;
  --color-primary-950: #0d1117;

  /* Secondary color scale */
  --color-secondary-50: #f2f2f2;
  --color-secondary-100: #e0e0e0;
  --color-secondary-200: #cdcdcd;
  --color-secondary-300: #bababa;
  --color-secondary-400: #a7a7a7;
  --color-secondary-500: #949494;
  --color-secondary-600: #818181;
  --color-secondary-700: #6e6e6e;
  --color-secondary-800: #5b5b5b;
  --color-secondary-900: #424242;
  --color-secondary-950: #262626;

  /* Accent color scale */
  --color-accent-50: #fffbeb;
  --color-accent-100: #fef3c7;
  --color-accent-200: #fde68a;
  --color-accent-300: #fcd34d;
  --color-accent-400: #fbbf24;
  --color-accent-500: #f59e0b;
  --color-accent-600: #d97706;
  --color-accent-700: #b45309;
  --color-accent-800: #92400e;
  --color-accent-900: #78350f;
  --color-accent-950: #451a03;

  /* Override existing Tailwind colors */
  --color-blue-500: #2563eb;
  --color-green-500: #10b981;
  --color-red-500: #ef4444;
  --color-black: #010409;

  /* Custom semantic colors */
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-info: #3b82f6;

  /* CSS Custom Properties for dynamic theming */
  --theme-accent-hue: 38;

  --color-accent-hsl: hsl(var(--theme-accent-hue) 92% 55%);

  /* Dynamic color generation using CSS variables */
  --color-accent-dynamic: hsl(
    var(--theme-accent-hue) var(--theme-saturation, 92%)
      var(--theme-lightness, 55%)
  );

  /* Alias colors for convenience */
  --color-primary: var(--color-primary-950); /* #0a0a0a */
  --color-primary-light: var(--color-primary-700); /* #4d4d4d */
  --color-primary-dark: var(--color-primary-900); /* #1f1f1f */
  --color-secondary: var(--color-secondary-950); /* #262626 */
  --color-secondary-light: var(--color-secondary-700); /* #6e6e6e */
  --color-secondary-dark: var(--color-secondary-900); /* #424242 */
  --color-accent: var(--color-accent-500);
  --color-accent-light: var(--color-accent-400);
  --color-accent-dark: var(--color-accent-600);

  /* Font size scale for consistent typography */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  --font-size-5xl: 3rem;
  --font-size-6xl: 3.75rem;

  /* Button sizes */
  --size-btn-sm: 2rem;
  --size-btn-md: 2.25rem;
  --size-btn-lg: 2.75rem;
  --size-icon-btn: 2.5rem;
}

@utility btn-primary {
  @apply inline-flex justify-center items-center gap-2 rounded-md border border-transparent px-4 py-2 text-sm font-medium transition-colors
          bg-primary-50 text-primary-950
          hover:bg-primary-100
          focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 focus-visible:ring-offset-primary-900
          disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer;
}

@utility btn-secondary {
  @apply inline-flex justify-center items-center gap-2 rounded-md border border-transparent px-4 py-2 text-sm font-medium transition-colors
          bg-secondary-600 text-white
          hover:bg-secondary-700
          focus:outline-none focus-visible:ring-2 focus-visible:ring-secondary-500 focus-visible:ring-offset-2 focus-visible:ring-offset-primary-900
          disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer;
}

@utility btn-accent {
  @apply inline-flex justify-center items-center gap-2 rounded-md border border-transparent px-4 py-2 text-sm font-medium transition-colors
          bg-accent-600 text-white
          hover:bg-accent-700
          focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-500 focus-visible:ring-offset-2 focus-visible:ring-offset-primary-900
          disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer;
}

@utility btn-ghost {
  @apply inline-flex justify-center items-center gap-2 rounded-md px-4 py-2 text-sm font-medium transition-colors
          text-primary-700 dark:text-primary-50
          hover:bg-primary-200 dark:hover:bg-primary-800
          focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 focus-visible:ring-offset-primary-900
          disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer;
}

@utility btn-icon {
  @apply inline-flex justify-center items-center rounded-md p-2.5 text-primary-400 transition-colors
          hover:text-primary-200 hover:bg-primary-800
          focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 focus-visible:ring-offset-primary-900
          disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer;
}

@utility input-field {
  @apply w-full px-3 py-2 border border-primary-700 rounded-md text-sm transition-colors
         bg-white dark:bg-black
         text-primary-900 dark:text-primary-50
         placeholder-gray-400
         focus:outline-none focus:ring-1 focus:ring-secondary-500 focus:border-secondary-500;
}

@utility modal-base {
  @apply w-full max-w-4xl transform overflow-hidden rounded-2xl bg-primary-900 dark:bg-primary-950 p-6 text-left align-middle shadow-xl transition-all;
}

@utility card-base {
  @apply rounded-lg bg-primary-800 dark:bg-primary-800 p-4;
}

@custom-variant dark (&:where(.dark, .dark *));

/* Dynamic theme utilities */
@layer utilities {
  .theme-accent-override {
    --theme-accent-hue: var(--override-hue, 38);
    --theme-saturation: var(--override-saturation, 92%);
    --theme-lightness: var(--override-lightness, 55%);
  }
}

/* Global Markdown Styling */
/* Used across components like WordDetailsModal and GrammarCheckModal */
.markdown-content {
  line-height: 1.25;
}

.markdown-content > *:first-child {
  margin-top: 0 !important;
}

.markdown-content h1,
.markdown-content h2,
.markdown-content h3 {
  font-weight: 600;
  color: rgb(250 250 250); /* text-primary-50 */
  margin-bottom: 0.25rem;
  margin-top: 0.5rem;
  line-height: 1.3;
}

.markdown-content h2 {
  font-size: var(--font-size-base);
  border-bottom: 1px solid rgb(75 85 99); /* border-primary-600 */
  padding-bottom: 0.125rem;
  margin-bottom: 0.25rem;
}

.markdown-content h3 {
  font-size: var(--font-size-sm);
}

.markdown-content p {
  margin-bottom: 0.125rem;
  color: rgb(250 250 250); /* text-primary-50 */
  line-height: 1.25;
}

.markdown-content strong {
  font-weight: 600;
  color: rgb(239 68 68); /* text-red-500 */
}

.vocabulary-list-view .markdown-content strong {
  color: rgb(59 130 246); /* blue-500 */
}

.markdown-content.correct-feedback strong {
  color: rgb(22 163 74); /* green-600 */
}

.markdown-content.incorrect-feedback strong {
  color: rgb(239 68 68); /* red-500 */
}

.markdown-content.practice-feedback strong {
  color: rgb(59 130 246); /* blue-500 */
}

.markdown-content em {
  font-style: italic;
  color: rgb(209 213 219); /* text-primary-300 */
}

.markdown-content ul,
.markdown-content ol {
  margin-left: 1.5rem;
  margin-bottom: 0.25rem;
  padding-left: 0;
}

.markdown-content li {
  margin-bottom: 0.0625rem;
  color: rgb(250 250 250); /* text-primary-50 */
  line-height: 1.25;
}

.markdown-content ul li {
  list-style-type: disc;
  list-style-position: outside;
}

.markdown-content ol {
  counter-reset: item;
}

.markdown-content ol li {
  list-style-type: decimal;
  list-style-position: outside;
  margin-left: 0.5rem;
}

/* Fix for ordered list formatting issues */
.markdown-content ol {
  margin-top: 0;
  padding-top: 0;
}

.markdown-content ol + p {
  margin-top: 0.25rem;
}

/* Handle nested lists that might be causing spacing issues */
.markdown-content ol > li {
  margin-bottom: 0.125rem;
}

.markdown-content ol > li > p {
  margin: 0.125rem 0;
}

.markdown-content blockquote {
  border-left: 4px solid rgb(22 139 60); /* border-secondary-500 */
  padding-left: 0.75rem;
  font-style: italic;
  color: rgb(209 213 219); /* text-primary-300 */
  margin: 0.25rem 0;
}

.markdown-content code {
  background-color: rgb(31 41 55); /* bg-primary-800 */
  padding: 0.0625rem 0.125rem;
  border-radius: 0.25rem;
  font-size: var(--font-size-xs);
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; /* font-mono */
  color: rgb(22 139 60); /* text-secondary-300 */
}

.markdown-content pre {
  background-color: rgb(31 41 55); /* bg-primary-800 */
  padding: 0.5rem;
  border-radius: 0.25rem;
  overflow-x: auto;
  margin-bottom: 0.25rem;
}

.markdown-content pre code {
  background-color: transparent;
  padding: 0;
}

/* Custom Scrollbar */
.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(30, 41, 59, 0.5);
  border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(148, 163, 184, 0.4);
  border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(148, 163, 184, 0.6);
}

/* Description Content Markdown Styling */
.description-content p {
  margin-bottom: 0.75rem;
}

.description-content p:last-child {
  margin-bottom: 0;
}

.description-content ul {
  margin-top: 0.5rem;
  margin-bottom: 0.75rem;
}

.description-content li {
  margin-bottom: 0.5rem;
}

.description-content li:last-child {
  margin-bottom: 0;
}
